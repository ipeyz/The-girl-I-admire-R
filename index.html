<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Girl I Always Admire</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@1,500&display=swap');

        body {
            background-color: #0d1226;
            font-family: 'Cormorant Garamond', serif;
            overflow-x: hidden;
        }

        .aurora {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 1;
        }

        .aurora-layer {
            position: absolute;
            bottom: 0;
            width: 150%; height: 200%;
            border-radius: 50%;
            opacity: 0.6;
            filter: blur(80px);
            animation: aurora-move 40s infinite linear alternate;
        }

        .aurora-layer:nth-child(1) {
            left: -20%;
            background: radial-gradient(circle at center, rgba(144, 238, 144, 0.4) 0%, transparent 70%);
            animation-duration: 35s;
        }

        .aurora-layer:nth-child(2) {
            left: 50%;
            background: radial-gradient(circle at center, rgba(173, 216, 230, 0.5) 0%, transparent 65%);
            animation-duration: 45s;
            animation-delay: -10s;
        }

        .aurora-layer:nth-child(3) {
            left: 10%;
            background: radial-gradient(circle at center, rgba(70, 130, 180, 0.4) 0%, transparent 80%);
            animation-duration: 40s;
            animation-delay: -5s;
        }

        @keyframes aurora-move {
            0% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(-10%, 10%) rotate(5deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }

        .snow-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .snow {
            position: absolute;
            width: 3px; height: 3px;
            background: transparent;
            border-radius: 50%;
            opacity: 0.8;
            box-shadow: 
                0 0 1px #fff, 
                20px 100px 1px rgba(255,255,255,0.8),
                40px 200px 1px rgba(255,255,255,0.7),
                60px 300px 1px rgba(255,255,255,0.9),
                80px 400px 1px rgba(255,255,255,0.6),
                100px 500px 1px rgba(255,255,255,0.8);
            animation: snowfall 20s linear infinite;
        }

        @keyframes snowfall {
            0% { transform: translateY(-100vh); }
            100% { transform: translateY(100vh); }
        }

        .bird-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 6;
        }

        .bird {
            position: absolute;
            width: 32px; height: 32px;
            fill: #5e3814;
            opacity: 0.8;
            animation: fly-across linear infinite;
        }

        @keyframes fly-across {
            0% { transform: translate(-10vw, 80vh) scale(0.8) rotate(5deg); }
            50% { transform: translate(50vw, 40vh) scale(1) rotate(-5deg); }
            100% { transform: translate(110vw, 60vh) scale(0.8) rotate(5deg); }
        }

        .bird-1 { top: 10%; left: -5%; animation-duration: 40s; }
        .bird-2 { top: 30%; left: -15%; animation-duration: 35s; animation-delay: 10s; }
        .bird-3 { top: 50%; left: -25%; animation-duration: 45s; animation-delay: 20s; }

        .letter-content { white-space: pre-wrap; z-index: 10; }

        #startButtonOverlay {
            transition: opacity 1.5s ease-in-out;
            cursor: pointer;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">

    <!-- Aurora -->
    <div class="aurora">
        <div class="aurora-layer"></div>
        <div class="aurora-layer"></div>
        <div class="aurora-layer"></div>
    </div>

    <!-- Birds -->
    <div class="bird-container">
        <div class="bird bird-1"><svg viewBox="0 0 100 100"><path d="M0 50 L25 25 L50 50 Z M50 50 L75 25 L100 50 Z" /></svg></div>
        <div class="bird bird-2"><svg viewBox="0 0 100 100"><path d="M0 50 L25 25 L50 50 Z M50 50 L75 25 L100 50 Z" /></svg></div>
        <div class="bird bird-3"><svg viewBox="0 0 100 100"><path d="M0 50 L25 25 L50 50 Z M50 50 L75 25 L100 50 Z" /></svg></div>
    </div>

    <!-- Snow -->
    <div class="snow-container">
        <div class="snow"></div>
    </div>

    <!-- Love Letter -->
    <main class="relative z-20 w-full max-w-2xl my-8">
        <div class="bg-white bg-opacity-10 backdrop-blur-sm p-8 sm:p-12 rounded-3xl shadow-2xl border border-white border-opacity-20 text-white leading-relaxed">
            <h1 class="text-3xl sm:text-4xl font-semibold text-center mb-6 text-pink-200" style="font-family: 'Cormorant Garamond', serif;">
                The Girl I Always Admire
            </h1>
            <pre id="letterText" class="letter-content text-lg sm:text-xl md:text-2xl tracking-wide text-gray-100 p-2 overflow-auto h-[70vh] md:h-[80vh]">
(ðŸ’Œ your letter text here ðŸ’Œ)
            </pre>
        </div>
    </main>

    <!-- Overlay -->
    <div id="startButtonOverlay" class="fixed inset-0 bg-black bg-opacity-70 flex flex-col items-center justify-center z-50">
        <div class="p-6 bg-white bg-opacity-10 rounded-xl border border-white border-opacity-20 shadow-xl text-center">
            <p class="text-xl sm:text-2xl text-white mb-4">A melody awaits...</p>
            <button onclick="startExperience()" class="px-6 py-3 bg-pink-500 hover:bg-pink-400 text-white font-bold rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                Click to Start the Magic
            </button>
        </div>
    </div>

    <script>
        let synth = new Tone.PolySynth(Tone.Synth, {
            oscillator: { type: 'sine' },
            envelope: { attack: 1, decay: 0.5, sustain: 0.5, release: 2 }
        }).toDestination();

        const reverb = new Tone.Reverb(2).toDestination();
        synth.connect(reverb);
        Tone.Transport.bpm.value = 80;

        const notes = [["A3","C4","E4"],["F3","A3","C4"],["G3","B3","D4"],["C3","E3","G3"]];
        let sequence = new Tone.Sequence((time,chordIndex)=>{
            const chord=notes[chordIndex%notes.length];
            synth.triggerAttackRelease(chord,"2n",time);
            const melodyNote=chord[chordIndex%chord.length];
            synth.triggerAttackRelease(melodyNote,"8n",time+Tone.Time("4n").toSeconds());
        },[0,1,2,3],"4n").start(0);

        // ðŸŽµ Seamless loop version (no delay)
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let audioBuffer;

        fetch('love.mp3')
            .then(res => res.arrayBuffer())
            .then(data => audioCtx.decodeAudioData(data))
            .then(buffer => audioBuffer = buffer);

        function startExperience(){
            // start your song seamlessly
            if (audioBuffer) {
                const source = audioCtx.createBufferSource();
                source.buffer = audioBuffer;
                source.loop = true;
                source.connect(audioCtx.destination);
                source.start(0);
            }

            // start the ambient synth
            if(Tone.context.state!=='running'){Tone.start();}
            Tone.Transport.start();

            const overlay=document.getElementById('startButtonOverlay');
            overlay.style.opacity=0;
            setTimeout(()=>overlay.remove(),1500);
        }

        sequence.loop=true;
        sequence.loopEnd="4m";
    </script>
</body>
</html>
